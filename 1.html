<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web掲示板</title>
</head>
<body>
    <h1>Web掲示板</h1>
    <form id="postForm">
        <textarea id="postContent" placeholder="投稿内容を入力してください"></textarea><br>
        <button type="submit">投稿</button>
    </form>
    <ul id="postsList"></ul>

    <script>
        // 投稿内容を保存するキー
        const STORAGE_KEY = 'posts';

        // 投稿内容を取得して表示する関数
        function displayPosts() {
            const postsList = document.getElementById('postsList');
            postsList.innerHTML = ''; // リストをクリア
            const posts = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            posts.forEach(post => {
                const li = document.createElement('li');
                li.textContent = post;
                postsList.appendChild(li);
            });
        }

        // フォームの送信イベントを処理する関数
        document.getElementById('postForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const postContent = document.getElementById('postContent').value;
            if (postContent.trim() !== '') {
                const posts = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
                posts.push(postContent);
                localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
                document.getElementById('postContent').value = ''; // テキストエリアをクリア
                displayPosts();
            }
        });

        // ページ読み込み時に投稿内容を表示
        window.addEventListener('load', displayPosts);
    </script>
</body>
</html>
